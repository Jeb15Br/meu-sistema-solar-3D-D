<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>3D Solar System</title>
    <link rel="stylesheet" href="css/style.css?v=FORCE_UPDATE_FINAL_13">
    <link rel="stylesheet" href="mobile/mobile.css?v=MCPE_HUD_1">
    <link rel="preload" href="assets/VirarTelefone.gif" as="image">
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.170.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.170.0/examples/jsm/"
            }
        }
    </script>
    <!-- PWA / Fullscreen Mobile Support -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#000000">

    <!-- App Icons -->
    <link rel="icon" type="image/jpeg" href="assets/app_icon.jpg">
    <link rel="apple-touch-icon" href="assets/app_icon.jpg">
    <link rel="manifest" href="manifest.json">

    <!-- RPOD: Red Panel of Death (Global Error Handler) -->
    <script src="scripts/rpod.js"></script>
</head>

<body>
    <div id="ui-container">
        <div class="controls-row">
            <div class="slider-group">
                <label for="timeSlider">Controle de Tempo</label>
                <input type="range" id="timeSlider" min="-130" max="130" step="1" value="0">
                <div class="speed-row">
                    <div id="time-display">Velocidade: Tempo Real</div>
                </div>
            </div>
            <div class="date-group">
                <div id="date-display">...</div>
                <div class="time-controls-row">
                    <button id="pause-time-btn">Pausar Tempo</button>
                    <button id="reset-date-btn">Hoje</button>
                    <button id="real-time-btn" title="Reiniciar para Agora">Tempo Real</button>
                </div>
            </div>
        </div>
    </div>



    <!-- Info Panel -->
    <div id="info-panel" class="hidden">
        <button id="close-info">X</button>
        <h2 id="info-name">Planeta</h2>
        <p><strong>Idade:</strong> <span id="info-age"></span></p>
        <p><strong>Tipo:</strong> <span id="info-type"></span></p>
        <p><strong>Transla√ß√£o:</strong> <span id="info-translation"></span></p>
        <p><strong>Rota√ß√£o:</strong> <span id="info-rotation"></span></p>
        <p><strong>Luas:</strong> <span id="info-moons"></span></p>
        <p id="info-desc">Descri√ß√£o...</p>
    </div>

    <!-- ORIENTATION LOCK OVERLAY -->
    <div id="orientation-lock">
        <div class="lock-content">
            <img src="assets/VirarTelefone.gif" alt="Vire o telefone" class="rotate-gif">
            <h2>Por favor, vire o seu telefone</h2>
            <p>A experi√™ncia √© melhor na horizontal!</p>
        </div>
    </div>

    <!-- Audio -->
    <audio id="bg-music">
        <!-- Coloque seu arquivo 'music.mp3' na pasta 'assets' -->
        <source src="assets/musics/Aria Math.mp3" type="audio/mp3">
        <!-- Fallback para teste se n√£o houver arquivo local -->
        <source src="https://assets.mixkit.co/music/preview/mixkit-stars-in-space-605.mp3" type="audio/mp3">
        Your browser does not support the audio element.
    </audio>
    <div id="music-controls-container">
        <button id="audio-btn">üîà M√∫sica</button>
        <div id="music-nav-row">
            <button id="prev-track" class="music-nav-btn" title="Anterior">‚èÆ</button>
            <button id="next-track" class="music-nav-btn" title="Pr√≥xima">‚è≠</button>
        </div>
    </div>
    <div id="info-menu" class="hidden">
        <div class="info-menu-item" id="menu-about">üìñ Sobre o Projeto</div>
        <div class="info-menu-item" id="menu-camera">üì∏ Controle de C√¢mera</div>
        <div class="info-menu-item" id="menu-planets">ü™ê Planetas e Intera√ß√£o</div>
        <div class="info-menu-item" id="menu-keyboard">‚å®Ô∏è Atalhos do Teclado</div>
        <div class="info-menu-item" id="menu-easter">ü•ö Easter Eggs</div>
        <div class="info-menu-item" id="menu-credits">üíé Cr√©ditos</div>
    </div>
    <button id="info-btn" title="Controles e Ajuda">‚ÑπÔ∏è</button>

    <!-- MOBILE CONTROLS OVERLAY (Minecraft PE Style) -->
    <div id="mobile-controls" class="hidden">
        <div id="d-pad">
            <div class="d-row">
                <button id="btn-forward" class="control-btn" data-key="KeyW">‚ñ≤</button>
            </div>
            <div class="d-row">
                <button id="btn-left" class="control-btn" data-key="KeyA">‚óÑ</button>
                <div class="d-spacer"></div>
                <button id="btn-right" class="control-btn" data-key="KeyD">‚ñ∫</button>
            </div>
            <div class="d-row">
                <button id="btn-backward" class="control-btn" data-key="KeyS">‚ñº</button>
            </div>
        </div>

        <div id="action-buttons">
            <button id="btn-up" class="control-btn action-btn" data-key="KeyZ">‚¨Ü</button>
            <button id="btn-down" class="control-btn action-btn" data-key="KeyX">‚¨á</button>
        </div>
    </div>

    <script type="module" src="main.js?v=FORCE_UPDATE_FINAL_1"></script>
</body>

</html>